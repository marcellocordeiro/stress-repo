# This is a basic workflow to help you get started with Actions

name: CI

# Controls when the action will run. 
on:
  # Triggers the workflow on push or pull request events but only for the main branch
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

# A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:
  exhibitor:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2.3.4
        with:
          repository: 'soabase/exhibitor'
          ref: d345d2d45c75b0694b562b6c346f8594f3a5d166
      - name: Java tests
        uses: marcellocordeiro/stress-action@main
        with:
          test_type: maven
          no_stress_runs: 2
          stress_runs: 2
          
  azure-iot-sdk-java:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2.3.4
        with:
          repository: 'Azure/azure-iot-sdk-java'
          ref: a9226a5262a8f4cb92ec7fd1535c0e0d3bc7aa03
      - name: Java tests
        uses: marcellocordeiro/stress-action@main
        with:
          test_type: maven
          no_stress_runs: 2
          stress_runs: 2
          
  karate:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2.3.4
        with:
          repository: 'intuit/karate'
          ref: 09bc49eb6fcfc029a09dbdb385137ff71985c89b
      - name: Java tests
        uses: marcellocordeiro/stress-action@main
        with:
          test_type: maven
          no_stress_runs: 2
          stress_runs: 2
          
  hbase:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2.3.4
        with:
          repository: 'apache/hbase'
          ref: d50816fe448971b8e586792f0584aaf601e31780
      - name: Java tests
        uses: marcellocordeiro/stress-action@main
        with:
          test_type: maven
          no_stress_runs: 2
          stress_runs: 2
          
  flow:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2.3.4
        with:
          repository: 'vaadin/flow'
          ref: df7a5f80b8c77f5d1505ecd6aea7e1adf70141bf
      - name: Java tests
        uses: marcellocordeiro/stress-action@main
        with:
          test_type: maven
          no_stress_runs: 2
          stress_runs: 2
